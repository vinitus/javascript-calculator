TDD를 위한 좋은 방향

## TDD를 위한 Best Practice?

Best Practice는 비슷한 유형의 문제들을 쉽게 풀 수 있는 접근 방법이다.

하지만 내가 만들어갈 웹 프로젝트들의 대부분은 불확실성이 크다.

때문에 Best Practice 자체보다는 이에 대가가는 과정과 연습이 중요하다.

### 테스트 코드 Best Practice 3단계

1. 실패하는 테스트 코드 작성
2. 이를 통과하도록 작성
3. 리팩토링

## Best Practice를 위한 방향성

- 핵심(가장 작은 단위)부터 포함하게
- 확실한 것에서 불확실한 것까지

### 의도를 드러내는 네이밍

1. 의도를 드러내고
   ```js
   // 선형 탐색을 통한 검색 함수라는 뜻의 네이밍
   const linearSearchFor = (arr, target) => {};
   ```
2. 구현을 숨기고
   ```js
   // 선형 탐색을 사용했다는 구체적 구현을 숨기고, 검색만을 위한 함수
   const searchFor = (arr, target) => {};
   ```
3. 반환 타입에 대한 명확한 힌트를 제공한다.
   ```js
   // 이 함수의 목표는 Boolean으로 어떤 값이 존재하는가를 반환하는 함수이다.
   const includes = (arr, target) => {};
   ```

다른 예시

1. 의도를 드러내고
   ```js
   // 선형 탐색을 통한 위치를 찾는 함수
   const getLinearSearchPostiion = (arr, target) => {};
   ```
2. 구현을 숨기고
   ```js
   // 선형 탐색을 사용했다는 구체적 구현을 숨기고, 위치 검색만을 위한 함수
   const getSearchPosition = (arr, target) => {};
   ```
3. 반환 타입에 대한 명확한 힌트를 제공한다.
   ```js
   const getPosition = (arr, target) => {};
   // 이것만으로는 부족하니까, index를 반환하는 함수라는 뜻으로 변경
   const indexOf = (arr, target) => {};
   ```

## TDD를 하는 과정

1. 하고 싶은 일을 생각해라
2. 이를 테스트하는 방법을 생각해라
3. 작은 테스트를 작성하면서 원하는 api를 생각해보라
4. 테스트에 실패할 만큼만 코드를 작성하라
5. 실행하고 테스트가 실패하는지 확인하라
6. 테스트를 통과할 만큼의 코드만 작성하라
7. 실행하고 모든 테스트가 통과하는지 확인하라
   -> 통과하지 못한 케이스가 있다면 잘못한 부분을 찾아 수정하라
8. 중복이 있는 경우 제거하고, 재사용성을 높이기 위한 리팩토링
   -> 코드간의 결합도 감소와 응집도 증가
9. 테스트를 다시 실행하면 여전히 모든 테스트가 통과해야한다
10. 새 코드를 작성하는 테스트를 더 이상 찾을 수 없을 때까지 1 ~ 9를 반복해라

## Maker Jun의 TDD

1. 전체 문제가 해결되었을 때, 어떤 상태일까? 결국 내가 뭐하려는 걸까?
   이 기름을 그릴 수 없으면 삽질을 굉장히 많이 하게 된다.. 프로젝트의 핵심이 뭘까, 핵심적으로 뭐가 동작되어야할까?
2. 적당한 난이도로 문제를 쪼개거나 변형하기 -> 단, 핵심을 포함하게
3. 핵심과 가까우면서 할 수 있는 적절한 것을 선택
4. 결과치가 뭔지 구체화하고 최대한 진짜처럼 시뮬레이션
5. 동작 가능한 가장 작은 버전의 솔루션을 만들고 테스트가 통과하는지 확인한다.
6. 리팩터링을 하면서 중복을 줄이고 의도를 드러나게 한다.
7. 1번이나 2번으로 돌아간다.
